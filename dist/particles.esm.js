const t=Math,e=t.random,n=t.ceil;function i({x1:t,y1:i,x2:r,y2:o},s,l){const y=n(e()*s)-l,c=n(e()*s)-l,f=t+n(e()*r),h=i+n(e()*o);return{x:f,y:h,r:Math.sqrt(f*f+h*h),vx:0===y?1:y,vy:0===c?1:c}}const r=window,o=window.requestAnimationFrame;function s(t,{count:e,distance:n,speed:s,animate:l,strokeStyle:y,fillStyle:c,size:f}){const h=function(t){return()=>{const e=t.offsetWidth,n=t.offsetHeight;return t.width=e,t.height=n,{width:e,height:n}}}(t),{width:x,height:a}=h(),d=function({x1:t,y1:e,x2:n,y2:r},o=200,s=4){const l=new Array(o),y=Math.floor(s/2);for(let c=0;c<o;c++)l[c]=i({x1:t,y1:e,x2:n,y2:r},s,y);return l}({x1:0,y1:0,x2:x,y2:a},e,s);return r.addEventListener("resize",h),o((function i(){if(d.sort((function(t,e){return t.r-e.r})),function(t,e,{distance:n,strokeStyle:i,fillStyle:r,size:o}){const s=n*n,l=t.getContext("2d"),y=(o=void 0===o?2:o)/2;l.fillStyle=r||"black",l.strokeStyle=i||"rgba(0,0,0,0.1)",l.clearRect(0,0,t.width,t.height),l.beginPath();const c=e.length;for(let t=0;t<c;t++){let i=e[t];for(let r=t+1;r<c;r++){let t=e[r];const o=i.x-t.x,y=i.y-t.y;if(o*o+y*y<s)l.moveTo(i.x,i.y),l.lineTo(t.x,t.y);else if(Math.abs(i.r-t.r)>n)break}l.fillRect(i.x-y,i.y-y,o,o)}l.stroke()}(t,d,{distance:n,strokeStyle:y,fillStyle:c,size:f}),!1!==l){const n=0,{width:r,height:s}=t,l=0-n,y=0-n,c=r+n,f=s+n;for(let t=0;t<e;t++){let e=d[t];const n=e.x+e.vx,i=e.y+e.vy;e.x=n,e.y=i,e.r=Math.sqrt(n*n+i*i),(n<l||n>c)&&(e.vx=-e.vx),(i<y||i>f)&&(e.vy=-e.vy)}o(i)}})),()=>{l=!1,r.removeEventListener("resize",h)}}export{s as init};
