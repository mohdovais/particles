const t=Math,e=t.random,n=t.ceil;function i({x1:t,y1:i,x2:o,y2:r},l,s){const y=n(e()*l)-s,c=n(e()*l)-s;return{x:t+n(e()*o),y:i+n(e()*r),vx:0===y?1:y,vy:0===c?1:c}}const o=window,r=window.requestAnimationFrame;function l(t,{count:e,distance:n,speed:l,animate:s,strokeStyle:y,fillStyle:c,size:x}){const f=function(t){return()=>{const e=t.offsetWidth,n=t.offsetHeight;return t.width=e,t.height=n,{width:e,height:n}}}(t),{width:h,height:a}=f(),d=function({x1:t,y1:e,x2:n,y2:o},r=200,l=4){const s=new Array(r),y=Math.floor(l/2);for(let c=0;c<r;c++)s[c]=i({x1:t,y1:e,x2:n,y2:o},l,y);return s}({x1:0,y1:0,x2:h,y2:a},e,l);return o.addEventListener("resize",f),r((function e(){!function(t,e,{distance:n,strokeStyle:i,fillStyle:o,size:r}){const{width:l,height:s}=t,y=n*n,c=t.getContext("2d"),x=(r=r||2)/2;c.save(),c.fillStyle=o||"black",c.strokeStyle=i||"rgba(0,0,0,0.1)",c.clearRect(0,0,t.width,t.height),c.beginPath();const f=l+0,h=s+0,a=e.length;for(let t=0;t<a;t++){let n=e[t];for(let i=0;i<a;i++)if(t!==i){let o=e[i];const r=n.x-o.x,l=n.y-o.y;r*r+l*l<y&&i>t&&(c.moveTo(n.x,n.y),c.lineTo(o.x,o.y))}}c.stroke();for(let t=0;t<a;t++){let n=e[t];c.fillRect(n.x-x,n.y-x,r,r),n.x+=n.vx,n.y+=n.vy,(n.x<0||n.x>f)&&(n.vx=-n.vx),(n.y<0||n.y>h)&&(n.vy=-n.vy)}c.restore()}(t,d,{distance:n,strokeStyle:y,fillStyle:c,size:x}),!1!==s&&r(e)})),()=>{s=!1,o.removeEventListener("resize",f)}}export{l as init};
